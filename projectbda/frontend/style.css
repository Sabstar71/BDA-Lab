:root{
  --bg:#0f1724;
  --panel:#0b1220;
  --accent:#06b6d4;
  --muted:#94a3b8;
  --glass: rgba(255,255,255,0.04);
}
*{box-sizing:border-box}
html,body,#map{height:100%;}
body{
  margin:0; font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background: linear-gradient(180deg,#071226 0%, #071d2b 100%); color:#e6eef6;
}
.app-header{height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 20px; background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent); border-bottom:1px solid rgba(255,255,255,0.03);}
.brand{font-weight:700; font-size:18px; color:var(--accent)}
.actions{display:flex; gap:8px; align-items:center}
.actions input{padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:var(--muted); min-width:220px}
.actions button{background:var(--glass); color:var(--accent); border:1px solid rgba(255,255,255,0.03); padding:8px 12px; border-radius:8px; cursor:pointer}

.container{display:flex; height:calc(100% - 64px)}
.sidebar{width:340px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:16px; overflow:auto; border-right:1px solid rgba(255,255,255,0.03);}
.sidebar h3{margin:0 0 8px 0; color:var(--muted)}
.list{display:flex; flex-direction:column; gap:8px; margin-bottom:12px}
.list .item{padding:10px; border-radius:10px; background:rgba(255,255,255,0.02); display:flex; justify-content:space-between; align-items:center; transition:transform .15s ease, background .15s}
.list .item:hover{transform:translateX(6px); background:rgba(6,182,212,0.06)}
.list .item .meta{font-size:13px; color:var(--muted)}
.status-badge{padding:4px 8px; border-radius:8px; background:rgba(255,255,255,0.02)}
.micro{padding:6px 8px; border-radius:6px; background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer}
.add-card{margin-top:10px; padding:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); border-radius:10px}
.add-card input{width:100%; margin-bottom:8px; padding:8px; border-radius:6px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--muted)}
.add-card button{width:100%; padding:10px; border-radius:8px; border:none; color:#042022; background:var(--accent); font-weight:600; cursor:pointer; box-shadow:0 6px 18px rgba(6,182,212,0.12); transition:transform .15s}
.add-card button:active{transform:translateY(1px)}

.main{flex:1; position:relative; display:flex; flex-direction:column; padding:12px}
.map{flex:0 0 66%; border-radius:10px; overflow:hidden; box-shadow: 0 10px 30px rgba(2,6,23,0.6);}

.existing{flex:1; margin-top:12px; padding:12px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.02); overflow:auto}
.existing-header{font-weight:600; margin-bottom:8px; color:var(--muted)}
.existing-list{display:flex; flex-direction:column; gap:8px}
.existing-list .ex-item{padding:8px; background:rgba(255,255,255,0.015); border-radius:8px; display:flex; justify-content:space-between; align-items:center}
.existing-list .ex-item .meta{font-size:13px; color:var(--muted)}

.popup-content img{box-shadow:0 8px 24px rgba(2,6,23,0.6)}


.toast{position:fixed; right:20px; bottom:20px; padding:12px 16px; background:rgba(2,6,23,0.9); border-radius:8px; color:var(--accent); box-shadow:0 8px 30px rgba(2,6,23,0.6); opacity:0; transform:translateY(8px); transition:opacity .2s, transform .2s}
.toast.show{opacity:1; transform:translateY(0)}
.toast.hidden{display:none}

/* leaflet overrides */
.leaflet-container{border-left:1px solid rgba(255,255,255,0.02)}
.leaflet-popup-content-wrapper{background:linear-gradient(180deg,#071d2b,#082633); color:#e6eef6}

@media (max-width: 900px){
  .sidebar{width:320px}
  .actions input{min-width:120px}
}
